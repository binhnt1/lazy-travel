<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu√™n m·∫≠t kh·∫©u - TravelVote</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #FAFAFA;
            min-height: 100vh;
        }

        .container {
            max-width: 428px;
            margin: 0 auto;
            background: #FAFAFA;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            padding: 16px;
            background: white;
            border-bottom: 1px solid #E8E8E8;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .back-btn {
            width: 32px;
            height: 32px;
            border: 1px solid #E8E8E8;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            cursor: pointer;
            font-size: 16px;
        }

        .header-title {
            font-size: 16px;
            font-weight: 600;
            color: #1A1A1A;
        }

        /* Content */
        .content {
            flex: 1;
            padding: 40px 16px;
            display: flex;
            flex-direction: column;
        }

        /* Timeline Progress */
        .timeline-progress {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 32px;
            padding: 0 16px;
        }

        .timeline-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .timeline-circle {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid #E8E8E8;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            color: #999;
            position: relative;
            z-index: 2;
        }

        .timeline-step.active .timeline-circle {
            border-color: #FF6B35;
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
        }

        .timeline-step.completed .timeline-circle {
            border-color: #FF6B35;
            background: #FF6B35;
            color: white;
        }

        .timeline-label {
            font-size: 12px;
            color: #999;
            margin-top: 8px;
            font-weight: 500;
            white-space: nowrap;
        }

        .timeline-step.active .timeline-label {
            color: #FF6B35;
            font-weight: 600;
        }

        .timeline-step.completed .timeline-label {
            color: #1A1A1A;
        }

        .timeline-line {
            flex: 1;
            height: 2px;
            background: #E8E8E8;
            margin: 0 8px;
            position: relative;
            top: -16px;
        }

        .timeline-line.active {
            background: #FF6B35;
        }

        .icon-section {
            text-align: center;
            margin-bottom: 24px;
        }

        .icon-large {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin: 0 auto 16px auto;
        }

        .title {
            font-size: 24px;
            font-weight: 700;
            color: #1A1A1A;
            margin-bottom: 12px;
            text-align: center;
        }

        .subtitle {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            text-align: center;
            padding: 0 16px;
        }

        /* Form */
        .form-section {
            margin-top: 32px;
        }

        .input-group {
            margin-bottom: 16px;
        }

        .input-label {
            font-size: 13px;
            font-weight: 600;
            color: #1A1A1A;
            margin-bottom: 8px;
            display: block;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            border: 1px solid #E8E8E8;
            border-radius: 8px;
            font-size: 14px;
            color: #1A1A1A;
            background: white;
            outline: none;
        }

        .input-field:focus {
            border-color: #FF6B35;
        }

        .input-field::placeholder {
            color: #999;
        }

        .input-hint {
            font-size: 12px;
            color: #999;
            margin-top: 6px;
            line-height: 1.4;
        }

        .primary-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 8px;
        }

        .primary-btn:active {
            opacity: 0.9;
        }

        /* Info Box */
        .info-box {
            background: white;
            border: 1px solid #E8E8E8;
            border-radius: 8px;
            padding: 16px;
            margin-top: 24px;
        }

        .info-title {
            font-size: 13px;
            font-weight: 600;
            color: #1A1A1A;
            margin-bottom: 8px;
        }

        .info-item {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 13px;
            color: #666;
            line-height: 1.5;
        }

        .info-item:last-child {
            margin-bottom: 0;
        }

        .info-icon {
            color: #FF6B35;
            font-weight: 600;
            flex-shrink: 0;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 16px;
            margin-top: auto;
        }

        .back-link {
            font-size: 14px;
            color: #666;
        }

        .back-link a {
            color: #FF6B35;
            text-decoration: none;
            font-weight: 600;
        }

        /* Success State (Hidden by default) */
        .success-state {
            display: none;
            text-align: center;
        }

        .success-state.active {
            display: block;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: #4CAF50;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin: 0 auto 24px auto;
        }

        .success-title {
            font-size: 20px;
            font-weight: 700;
            color: #1A1A1A;
            margin-bottom: 12px;
        }

        .success-text {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .resend-text {
            font-size: 13px;
            color: #666;
            margin-top: 16px;
        }

        .resend-link {
            color: #FF6B35;
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
        }

        /* Step Management */
        .step-hidden {
            display: none;
        }

        /* Code Inputs */
        .code-inputs {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-bottom: 16px;
        }

        .code-input {
            width: 48px;
            height: 56px;
            border: 1px solid #E8E8E8;
            border-radius: 8px;
            font-size: 24px;
            font-weight: 600;
            text-align: center;
            color: #1A1A1A;
            background: white;
            outline: none;
        }

        .code-input:focus {
            border-color: #FF6B35;
            background: #FFF5F0;
        }

        /* Timer Section */
        .timer-section {
            text-align: center;
            margin-bottom: 16px;
        }

        .timer-text {
            font-size: 13px;
            color: #999;
        }

        /* Resend Section */
        .resend-section {
            text-align: center;
            margin-top: 16px;
            margin-bottom: 24px;
        }

        .resend-link.disabled {
            color: #999;
            cursor: not-allowed;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="back-btn" onclick="history.back()">‚Üê</div>
            <div class="header-title">Qu√™n m·∫≠t kh·∫©u</div>
        </div>

        <!-- Content -->
        <div class="content">
            <!-- Step 1: Enter Email/Phone -->
            <div id="step1">
                <!-- Timeline Progress -->
                <div class="timeline-progress">
                    <div class="timeline-step active">
                        <div class="timeline-circle">1</div>
                        <div class="timeline-label">Nh·∫≠p th√¥ng tin</div>
                    </div>
                    <div class="timeline-line"></div>
                    <div class="timeline-step">
                        <div class="timeline-circle">2</div>
                        <div class="timeline-label">X√°c nh·∫≠n m√£</div>
                    </div>
                    <div class="timeline-line"></div>
                    <div class="timeline-step">
                        <div class="timeline-circle">3</div>
                        <div class="timeline-label">M·∫≠t kh·∫©u m·ªõi</div>
                    </div>
                </div>

                <div class="icon-section">
                    <div class="icon-large">üîí</div>
                    <h1 class="title">Qu√™n m·∫≠t kh·∫©u?</h1>
                    <p class="subtitle">Kh√¥ng sao! Nh·∫≠p email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i b·∫°n ƒë√£ ƒëƒÉng k√Ω, ch√∫ng t√¥i s·∫Ω g·ª≠i m√£ x√°c nh·∫≠n ƒë·ªÉ ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u.</p>
                </div>

                <!-- Form -->
                <form class="form-section" onsubmit="handleSendCode(event)">
                    <div class="input-group">
                        <label class="input-label">Email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i</label>
                        <input 
                            type="text" 
                            id="contact"
                            class="input-field" 
                            placeholder="Nh·∫≠p email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i"
                            required
                        >
                        <div class="input-hint">Ch√∫ng t√¥i s·∫Ω g·ª≠i m√£ x√°c nh·∫≠n 6 s·ªë ƒë·∫øn email/s·ªë ƒëi·ªán tho·∫°i n√†y</div>
                    </div>

                    <button type="submit" class="primary-btn">G·ª≠i m√£ x√°c nh·∫≠n</button>
                </form>

                <!-- Info Box -->
                <div class="info-box">
                    <div class="info-title">üí° L∆∞u √Ω:</div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>M√£ x√°c nh·∫≠n c√≥ hi·ªáu l·ª±c trong 10 ph√∫t</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>Ki·ªÉm tra c·∫£ h·ªôp th∆∞ spam n·∫øu kh√¥ng th·∫•y email</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>B·∫°n c√≥ th·ªÉ y√™u c·∫ßu g·ª≠i l·∫°i m√£ sau 60 gi√¢y</span>
                    </div>
                </div>
            </div>

            <!-- Step 2: Enter Verification Code -->
            <div id="step2" class="step-hidden">
                <!-- Timeline Progress -->
                <div class="timeline-progress">
                    <div class="timeline-step completed">
                        <div class="timeline-circle">‚úì</div>
                        <div class="timeline-label">Nh·∫≠p th√¥ng tin</div>
                    </div>
                    <div class="timeline-line active"></div>
                    <div class="timeline-step active">
                        <div class="timeline-circle">2</div>
                        <div class="timeline-label">X√°c nh·∫≠n m√£</div>
                    </div>
                    <div class="timeline-line"></div>
                    <div class="timeline-step">
                        <div class="timeline-circle">3</div>
                        <div class="timeline-label">M·∫≠t kh·∫©u m·ªõi</div>
                    </div>
                </div>

                <div class="icon-section">
                    <div class="icon-large">üìß</div>
                    <h1 class="title">Nh·∫≠p m√£ x√°c nh·∫≠n</h1>
                    <p class="subtitle">
                        Ch√∫ng t√¥i ƒë√£ g·ª≠i m√£ 6 s·ªë ƒë·∫øn<br>
                        <strong id="contactDisplay"></strong>
                    </p>
                </div>

                <!-- Verification Code Input -->
                <form class="form-section" onsubmit="handleVerifyCode(event)">
                    <div class="input-group">
                        <label class="input-label">M√£ x√°c nh·∫≠n</label>
                        <div class="code-inputs">
                            <input type="text" class="code-input" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="code-input" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="code-input" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="code-input" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="code-input" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="code-input" maxlength="1" pattern="[0-9]" required>
                        </div>
                    </div>

                    <!-- Timer Section -->
                    <div class="timer-section">
                        <div class="timer-text">
                            M√£ c√≥ hi·ªáu l·ª±c trong 10 ph√∫t
                        </div>
                    </div>

                    <button type="submit" class="primary-btn">X√°c nh·∫≠n</button>
                </form>

                <!-- Resend Section -->
                <div class="resend-section">
                    <p class="resend-text">
                        Kh√¥ng nh·∫≠n ƒë∆∞·ª£c m√£? 
                        <a id="resendLink" class="resend-link disabled">G·ª≠i l·∫°i (<span id="resendTimer">60</span>s)</a>
                    </p>
                </div>

                <!-- Info Box -->
                <div class="info-box">
                    <div class="info-title">üí° M·∫πo:</div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>Ki·ªÉm tra h·ªôp th∆∞ spam n·∫øu kh√¥ng th·∫•y email</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>ƒê·∫£m b·∫£o b·∫°n nh·∫≠p ƒë√∫ng s·ªë ƒëi·ªán tho·∫°i/email</span>
                    </div>
                </div>
            </div>

            <!-- Step 3: Set New Password -->
            <div id="step3" class="step-hidden">
                <!-- Timeline Progress -->
                <div class="timeline-progress">
                    <div class="timeline-step completed">
                        <div class="timeline-circle">‚úì</div>
                        <div class="timeline-label">Nh·∫≠p th√¥ng tin</div>
                    </div>
                    <div class="timeline-line active"></div>
                    <div class="timeline-step completed">
                        <div class="timeline-circle">‚úì</div>
                        <div class="timeline-label">X√°c nh·∫≠n m√£</div>
                    </div>
                    <div class="timeline-line active"></div>
                    <div class="timeline-step active">
                        <div class="timeline-circle">3</div>
                        <div class="timeline-label">M·∫≠t kh·∫©u m·ªõi</div>
                    </div>
                </div>

                <div class="icon-section">
                    <div class="icon-large">üîë</div>
                    <h1 class="title">ƒê·∫∑t m·∫≠t kh·∫©u m·ªõi</h1>
                    <p class="subtitle">Vui l√≤ng t·∫°o m·∫≠t kh·∫©u m·ªõi cho t√†i kho·∫£n c·ªßa b·∫°n</p>
                </div>

                <!-- New Password Form -->
                <form class="form-section" onsubmit="handleResetPassword(event)">
                    <div class="input-group">
                        <label class="input-label">M·∫≠t kh·∫©u m·ªõi</label>
                        <input 
                            type="password" 
                            id="newPassword"
                            class="input-field" 
                            placeholder="Nh·∫≠p m·∫≠t kh·∫©u m·ªõi (t·ªëi thi·ªÉu 8 k√Ω t·ª±)"
                            required
                            minlength="8"
                        >
                        <div class="input-hint">S·ª≠ d·ª•ng t·ªëi thi·ªÉu 8 k√Ω t·ª±, bao g·ªìm ch·ªØ v√† s·ªë</div>
                    </div>

                    <div class="input-group">
                        <label class="input-label">Nh·∫≠p l·∫°i m·∫≠t kh·∫©u m·ªõi</label>
                        <input 
                            type="password" 
                            id="confirmNewPassword"
                            class="input-field" 
                            placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u m·ªõi"
                            required
                            minlength="8"
                        >
                    </div>

                    <button type="submit" class="primary-btn">ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u</button>
                </form>

                <!-- Info Box -->
                <div class="info-box">
                    <div class="info-title">üí° M·∫≠t kh·∫©u m·∫°nh n√™n c√≥:</div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>T·ªëi thi·ªÉu 8 k√Ω t·ª±</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>K·∫øt h·ª£p ch·ªØ hoa, ch·ªØ th∆∞·ªùng v√† s·ªë</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚Ä¢</span>
                        <span>Kh√¥ng n√™n d√πng th√¥ng tin c√° nh√¢n d·ªÖ ƒëo√°n</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p class="back-link">
                Nh·ªõ m·∫≠t kh·∫©u? 
                <a href="signin.html">ƒêƒÉng nh·∫≠p ngay</a>
            </p>
        </div>
    </div>

    <script>
        let resendCountdown = 60;
        let resendInterval;

        // Step 1: Send verification code
        function handleSendCode(event) {
            event.preventDefault();
            
            const contact = document.getElementById('contact').value;
            
            // Simulate sending code
            console.log('Sending verification code to:', contact);
            
            // Update contact display
            document.getElementById('contactDisplay').textContent = contact;
            
            // Switch to step 2
            document.getElementById('step1').classList.add('step-hidden');
            document.getElementById('step2').classList.remove('step-hidden');
            
            // Start resend countdown
            startResendCountdown();
            
            // Focus first code input
            document.querySelector('.code-input').focus();
        }

        // Step 2: Verify code
        function handleVerifyCode(event) {
            event.preventDefault();
            
            const codeInputs = document.querySelectorAll('.code-input');
            const code = Array.from(codeInputs).map(input => input.value).join('');
            
            console.log('Verifying code:', code);
            
            // Simulate verification
            if (code.length === 6) {
                // Switch to step 3
                document.getElementById('step2').classList.add('step-hidden');
                document.getElementById('step3').classList.remove('step-hidden');
                
                // Focus on new password field
                document.getElementById('newPassword').focus();
            }
        }

        // Step 3: Reset password
        function handleResetPassword(event) {
            event.preventDefault();
            
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;
            
            // Validate password match
            if (newPassword !== confirmPassword) {
                alert('M·∫≠t kh·∫©u kh√¥ng kh·ªõp! Vui l√≤ng ki·ªÉm tra l·∫°i.');
                return;
            }
            
            console.log('Resetting password...');
            
            // Simulate password reset success
            alert('ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u th√†nh c√¥ng! B·∫°n c√≥ th·ªÉ ƒëƒÉng nh·∫≠p b·∫±ng m·∫≠t kh·∫©u m·ªõi.');
            window.location.href = 'signin.html';
        }

        // Resend countdown (60 seconds)
        function startResendCountdown() {
            resendCountdown = 60;
            const resendLink = document.getElementById('resendLink');
            const resendTimer = document.getElementById('resendTimer');
            
            resendLink.classList.add('disabled');
            
            resendInterval = setInterval(() => {
                resendCountdown--;
                resendTimer.textContent = resendCountdown;
                
                if (resendCountdown <= 0) {
                    clearInterval(resendInterval);
                    resendLink.classList.remove('disabled');
                    resendLink.innerHTML = 'G·ª≠i l·∫°i';
                    resendLink.onclick = resendCode;
                }
            }, 1000);
        }

        // Resend code
        function resendCode() {
            const contact = document.getElementById('contact').value;
            console.log('Resending code to:', contact);
            
            alert('ƒê√£ g·ª≠i l·∫°i m√£ x√°c nh·∫≠n!');
            
            // Restart countdown
            startResendCountdown();
        }

        // Code input auto-advance
        document.addEventListener('DOMContentLoaded', () => {
            const codeInputs = document.querySelectorAll('.code-input');
            
            codeInputs.forEach((input, index) => {
                // Auto-advance to next input
                input.addEventListener('input', (e) => {
                    if (e.target.value.length === 1 && index < codeInputs.length - 1) {
                        codeInputs[index + 1].focus();
                    }
                });
                
                // Handle backspace
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                        codeInputs[index - 1].focus();
                    }
                });
                
                // Only allow numbers
                input.addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                });

                // Handle paste
                input.addEventListener('paste', (e) => {
                    e.preventDefault();
                    const pastedData = e.clipboardData.getData('text').replace(/[^0-9]/g, '');
                    
                    if (pastedData.length === 6) {
                        codeInputs.forEach((inp, idx) => {
                            inp.value = pastedData[idx] || '';
                        });
                        codeInputs[5].focus();
                    }
                });
            });
        });
    </script>
</body>
</html>
